{
  "$schema": "http://json-schema.org/schema#",
  "$schemaVersion": "0.0",
  "$id": "https://smart-data-models.github.io/dataModel.Transportation/Road/schema.json",
  "title": " - Transportation / Road",
  "description": "This entity contains a harmonised geographic and contextual description of a road. Roads are made up of one or more RoadSegment entities. Road segments are usually used to model the different carriageways of highways, for instance. The presence of dedicated bicycle lanes should be modelled using road segments as well. Road segments also play an important role when modelling roads with heterogeneous segments, for instance segments on which speed limits are different. This entity is primarily associated with the Automotive and Smart City vertical segments and related IoT applications. This data model has been developed in cooperation with mobile operators and the GSMA.",
  "type": "object",
  "allOf": [
    {
      "$ref": "https://smart-data-models.github.io/data-models/common-schema.json#/definitions/GSMA-Commons"
    },
    {
      "$ref": "https://smart-data-models.github.io/data-models/common-schema.json#/definitions/Location-Commons"
    },
    {
      "$ref": "https://smart-data-models.github.io/data-models/common-schema.json#/definitions/PhysicalObject-Commons"
    },
    {
      "properties": {
        "type": {
          "type": "string",
          "enum": ["Road"],
          "description": "NGSI Entity type"
        },
        "roadClass": {
          "type": "string",
          "enum": [
            "motorway",
            "trunk",
            "primary",
            "secondary",
            "tertiary",
            "unclassified",
            "residential",
            "service"
          ]
        },
        "refRoadSegment": {
          "type": "array",
          "items": {
            "$ref": "https://smart-data-models.github.io/data-models/common-schema.json#/definitions/EntityIdentifierType"
          }
        },
        "length": {
          "type": "number",
          "minimum": 0
        },
        "responsible": {
          "type": "string"
        }
      },
      "allOf": [
        {
          "required": ["id", "name", "type", "roadClass"]
        },
        {
          "oneOf": [
            {
              "required": ["refRoadSegment"]
            },
            {
              "required": ["location"]
            }
          ]
        }
      ]
    }
  ]
}
